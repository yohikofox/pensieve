# ==========================================
# Pensine Backend - Environment Configuration
# ==========================================
# Copy this file to .env and fill with your actual values
# NEVER commit .env to version control!

# ==========================================
# NODE ENVIRONMENT
# ==========================================
NODE_ENV=development
PORT=3000

# ==========================================
# DATABASE (PostgreSQL)
# ==========================================
DATABASE_URL=postgres://pensine:your-postgres-password@localhost:5432/pensine

# ==========================================
# MESSAGE QUEUE (RabbitMQ)
# ==========================================
RABBITMQ_URL=amqp://pensine:your-rabbitmq-password@localhost:5672

# ==========================================
# BETTER AUTH (ADR-029)
# ==========================================
# Generate a strong random secret: openssl rand -hex 32
BETTER_AUTH_SECRET=your-random-secret-min-32-chars
# Base URL of this backend (used for email verification links, OAuth callbacks)
BETTER_AUTH_URL=http://localhost:3000

# ==========================================
# RESEND (ADR-030 — transactional emails)
# ==========================================
# Get your API key from: https://resend.com/api-keys
RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxxxxxxxxxx
# Sender address (must be a verified domain in Resend)
EMAIL_FROM=noreply@example.local

# ==========================================
# MINIO STORAGE
# ==========================================
MINIO_ENDPOINT=localhost
MINIO_PORT=9000
MINIO_USE_SSL=false
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=your-minio-password

# ==========================================
# OPENAI API (GPT-4o-mini for digestion)
# ==========================================
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-proj-xxxxx

# ==========================================
# WEBSOCKET CORS (Story 4.2 - Real-time notifications)
# ==========================================
# Production mobile app URL for WebSocket CORS whitelist
MOBILE_APP_URL=https://app.pensieve.io

# ==========================================
# HUGGINGFACE OAUTH (for gated models)
# ==========================================
# Create OAuth app at: https://huggingface.co/settings/connected-applications
# Set redirect URI to your backend URL (e.g., http://10.0.0.35:3000 for local dev)
HF_CLIENT_ID=your-huggingface-client-id
HF_CLIENT_SECRET=your-huggingface-app-secret
HF_REDIRECT_URI=http://localhost:3000


GOOGLE_CLIENT_ID=your-google-oauth-client-id
GOOGLE_CLIENT_SECRET=your-google-oauth-client-secret

# ==========================================
# OBSERVABILITY (Story 14.3 — ADR-015)
# ==========================================
# Log level: trace | debug | info | warn | error | fatal (default: info)
LOG_LEVEL=info

# Production file logging (optional — recommended for VM/bare-metal deployments)
# Leave empty or unset for Docker (use Docker log driver for rotation instead)
# If set, logs are written to BOTH stdout AND this file path
# For log rotation: use Docker --log-opt max-size OR host-level logrotate
# Example: LOG_FILE_PATH=/var/log/pensine/app.log
# LOG_FILE_PATH=

# Sentry error tracking (V1.5 — not yet integrated)
# Get your DSN from: https://sentry.io/settings/[org]/projects/[project]/keys/
# IMPORTANT: Never commit the real DSN — use placeholder here only
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id